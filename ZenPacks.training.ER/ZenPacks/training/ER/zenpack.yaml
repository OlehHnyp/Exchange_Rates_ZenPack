name: ZenPacks.training.ER

zProperties:
  DEFAULTS:
    category: Exchange Rates

  zCurrencyCodes:
    type: lines
    description: Currency codes to track.
    default:
      - USD
      - EUR
      - GBP

  zCurrencyApiKey:
    type: password
    description: API key for app.exchangerate-api.com

  zMetals:
    type: lines
    description: Metals to track (use Gold, Silver, Platinum, Palladium, Rhodium or Cobalt only).

  zMetalsApiKey:
    type: password
    description: Key for precious metals API.

classes:
  ErDevice:
    base: [zenpacklib.Device]
    label: Exchange Rates API

  ErCurrency:
    base: [zenpacklib.Component]
    label: Currency
    plural_label: Currencies

    properties:
      full_name:
        label: Currency full name

      short_name:
        label: Short name

  ErMetal:
    base: [zenpacklib.Component]
    label: Precious Metal
    plural_label: Precious Metals

  ErCountry:
    base: [zenpacklib.Component]
    label: Country
    plural_label: Countries

    properties:
      code:
        label: Code

      independent:
        type: boolean
        label: Independent
        enum: {false: "No", true: "Yes"}

      capital:
        label: Capital

      region:
        label: Region

      area:
        label: Area km\u00B2
        type: float

      population:
        label: Population
        type: int

      timezones:
        label: Timezones


class_relationships:
  - ErDevice(erCurrencies) 1:MC ErCurrency(erDevice)
  - ErDevice(erMetals) 1:MC ErMetal(erDevice)
  - ErCurrency(erCountries) 1:MC ErCountry(erCurrency)

device_classes:
  /ExchangeRates:
    zProperties:
      zPythonClass: ZenPacks.training.ER.ErDevice
      zPingMonitorIgnore: true
      zSnmpMonitorIgnore: true
      zCollectorPlugins:
        - ER.Currencies
        - ER.Metals
        - ER.Countries
